import 'dart:convert';

import 'package:udevs_video_player/models/player_configuration.dart';

import 'udevs_video_player_platform_interface.dart';
export 'package:udevs_video_player/models/player_configuration.dart';
export 'package:udevs_video_player/models/movie.dart';
export 'package:udevs_video_player/models/story.dart';
export 'package:udevs_video_player/models/movie_track.dart';
export 'package:udevs_video_player/models/season.dart';
export 'package:udevs_video_player/models/tv_program.dart';
export 'package:udevs_video_player/models/programs_info.dart';

class UdevsVideoPlayer {
  Future<String?> playVideo({
    required PlayerConfiguration playerConfig,
  }) {
    String jsonStringConfig = jsonEncode({"initialResolution":{"360p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/04862e12429e339944b9f90bd510b9e1/360p/index.m3u8"},"resolutions":{"auto":"https://cdn.sharqtv.udevs.io/sharqtv/videos/04862e12429e339944b9f90bd510b9e1/master.m3u8","360p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/04862e12429e339944b9f90bd510b9e1/360p/index.m3u8","240p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/04862e12429e339944b9f90bd510b9e1/240p/index.m3u8"},"qualityText":"Качество","speedText":"Скорость","type":"serial","lastPosition":0,"title":"","platform":"7e9217c5-a6b4-490a-9e90-dad564f39361","episodeButtonText":"Эпизоды","nextButtonText":"След.эпизод","seasons":[{"title":"1 Сезон","movies":[{"id":"634ffac8d6932d39a050a3d4","title":"A Study in Pink","description":"","image":"https://cdn.sharqtv.udevs.io/sharqtv/images/047d966b-c1a8-4ac9-9f3e-04caf8d5c328.jpeg","duration":5285,"resolutions":{"Автонастройка":"https://cdn.sharqtv.udevs.io/sharqtv/videos/04862e12429e339944b9f90bd510b9e1/master.m3u8","360p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/04862e12429e339944b9f90bd510b9e1/360p/index.m3u8","240p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/04862e12429e339944b9f90bd510b9e1/240p/index.m3u8"}},{"id":"634ffbc9d6932d39a050b0aa","title":"The Blind Banker","description":"","image":"https://cdn.sharqtv.udevs.io/sharqtv/images/c635c547-7f91-4e0d-8246-a0e0ec41b8ca.jpeg","duration":5305,"resolutions":{"Автонастройка":"https://cdn.sharqtv.udevs.io/sharqtv/videos/a719c229bef2c4eccc08e58b3c43470a/master.m3u8","360p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/a719c229bef2c4eccc08e58b3c43470a/360p/index.m3u8","240p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/a719c229bef2c4eccc08e58b3c43470a/240p/index.m3u8"}},{"id":"6350015dd6932d39a0518b00","title":"The Great Game","description":"События разворачиваются в наши дни. Он прошел Афганистан, остался инвалидом. По возвращению в родные края встречается с загадочным, но своеобразным гениальным человеком. Тот в поиске соседа по квартире. Лондон, 2010 год. Происходят необъяснимые убийства. Скотланд-Ярд без понятия, за что хвататься. Существует лишь один человек, который в силах разрешить проблемы и найти ответы на сложные вопросы","image":"https://cdn.sharqtv.udevs.io/sharqtv/images/ae087f81-1298-49a1-ba2b-2605c87b23e8.jpg","duration":0,"resolutions":{"Автонастройка":"https://cdn.sharqtv.udevs.io/sharqtv/videos/master/master.m3u8","360p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/index/360p/index.m3u8","240p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/index/240p/index.m3u8"}}]},{"title":"2 Сезон","movies":[{"id":"634ffc0dd6932d39a050ba0e","title":"A Scandal in Belgravia","description":"","image":"https://cdn.sharqtv.udevs.io/sharqtv/images/1249c640-3474-46e2-8d69-a9bd1e0067dc.jpeg","duration":5374,"resolutions":{"Автонастройка":"https://cdn.sharqtv.udevs.io/sharqtv/videos/f9a496c7b16d2961196a19fc28a2084d/master.m3u8","360p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/f9a496c7b16d2961196a19fc28a2084d/360p/index.m3u8","240p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/f9a496c7b16d2961196a19fc28a2084d/240p/index.m3u8"}},{"id":"634ffc1cd6932d39a050be41","title":"The Hounds of Baskerville","description":"","image":"https://cdn.sharqtv.udevs.io/sharqtv/images/80c75d78-0d95-4208-9ac9-55af663f6f4e.jpeg","duration":5303,"resolutions":{"Автонастройка":"https://cdn.sharqtv.udevs.io/sharqtv/videos/ebb606bed8b259f06c420d6fe0f285b4/master.m3u8","360p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/ebb606bed8b259f06c420d6fe0f285b4/360p/index.m3u8","240p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/ebb606bed8b259f06c420d6fe0f285b4/240p/index.m3u8"}},{"id":"634ffc22d6932d39a050c029","title":"The Reichenbach Fall","description":"","image":"https://cdn.sharqtv.udevs.io/sharqtv/images/8141e499-0008-440f-b727-a4bc92db3361.jpeg","duration":5307,"resolutions":{"Автонастройка":"https://cdn.sharqtv.udevs.io/sharqtv/videos/7484c8ed35acae965b4f6f15e5372751/master.m3u8","360p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/7484c8ed35acae965b4f6f15e5372751/360p/index.m3u8","240p":"https://cdn.sharqtv.udevs.io/sharqtv/videos/484c8ed35acae965b4f6f15e5372751/240p/index.m3u8"}}]}],"tvProgramsText":"Телеканалы","programsInfoList":[],"showController":true,"playVideoFromAsset":false,"assetPath":"","seasonIndex":0,"episodeIndex":0,"isMegogo":false,"isPremier":false,"videoId":"","sessionId":"63620acd69f87501b0f6ed15","megogoAccessToken":"MToxMTc4NDM5Njc2OjE2NjczNzA4OTg6OjNhYTE4MGM4ZTlmYmQ1MzVmMGY1ZWJhYWRiZjljYjAy","authorization":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2NDcyNTUzNzcsImlzcyI6InVzZXIiLCJyb2xlIjoiY3VzdG9tZXIiLCJzdWIiOiI1MzYyOWEwZS1lN2ExLTQ4YmQtYjZjMS05MDFiODIxNDc3OTgifQ.k2wBnwN_CEQ1m3Hhfj7xN2-HN7vNd0HQE0lxTvp7mhw","autoText":"Автонастройка","baseUrl":"https://api.spec.sharqtv.udevs.io/v1/","story":[],"storyButtonText":"Смотреть фильм","closeText":"Закрыть","seasonText":"сезон","storyIndex":0,"movieTrack":{"episode_key":"1","is_megogo":false,"movie_key":"sherlok","season_key":"1","seconds":0,"user_id":"53629a0e-e7a1-48bd-b6c1-901b82147798","element":"episode"}});
    return UdevsVideoPlayerPlatform.instance.playVideo(
      playerConfigJsonString: jsonStringConfig,
    );
  }

  Future<dynamic> closeVideo() {
    return UdevsVideoPlayerPlatform.instance.closeVideo();
  }
}
